{"version":3,"sources":["pages/Home/index.js","global/constants.js","pages/Home/components/Edit.js","pages/Home/components/Item.js","pages/Home/components/List.js","pages/Home/ListPage.js","index.js"],"names":["HomePage","className","type","onClick","window","location","href","API_GET_DATA","Edit","add","submittingStatus","useState","note","setNote","value","onChange","e","target","current","prevData","id","v4","Item","deleteData","prev","filter","item","List","listData","map","setData","a","fetch","res","json","data","method","headers","body","JSON","stringify","ListPage","useRef","useEffect","fetchSetData","then","fetchData","history","createBrowserHistory","App","exact","path","component","Component","ReactDOM","render","document","getElementById"],"mappings":"uOAYeA,MAVf,WACI,OACI,sBAAKC,UAAU,OAAf,UACI,+DACA,iFACA,wBAAQA,UAAU,QAAQC,KAAK,SAASC,QAAS,WAAMC,OAAOC,SAASC,KAAO,aAA9E,0C,gCCNCC,EAAY,UADD,wBACC,Y,gBC6BVC,EA3BF,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,IAAKC,EAAuB,EAAvBA,iBAAuB,EAClBC,mBAAS,IADS,mBACnCC,EADmC,KAC7BC,EAD6B,KAkB1C,OACI,gCACE,uBAAOX,KAAK,OAAOY,MAAOF,EAAMG,SAlBtC,SAAoBC,GAClBH,EAAQG,EAAEC,OAAOH,UAkBb,wBAAQX,QAhBd,WACEO,EAAiBQ,SAAU,EAC3BT,GAAI,SAAUU,GACZ,MAAM,CACJ,CACEC,GAAIC,cACJT,SAHJ,mBAKKO,QAQuBlB,UAAU,MAApC,sCACA,qBAAKA,UAAU,mBCNRqB,EAnBF,SAAC,GAAgD,IAA9CF,EAA6C,EAA7CA,GAAIR,EAAyC,EAAzCA,KAAMW,EAAmC,EAAnCA,WAAYb,EAAuB,EAAvBA,iBASpC,OACE,sBAAKT,UAAU,OAAf,UACE,8BACE,4BAAIW,MAEN,wBAAQT,QAZZ,WACEO,EAAiBQ,SAAU,EAC3BK,GAAW,SAASC,GAClB,OAAOA,EAAKC,QAAO,SAAAC,GAAI,OAAIA,EAAKN,KAAOA,SASVnB,UAAU,SAAvC,8BCQS0B,EApBF,SAAC,GAAgD,IAA9CC,EAA6C,EAA7CA,SAAUL,EAAmC,EAAnCA,WAAYb,EAAuB,EAAvBA,iBACpC,OACE,sBAAKT,UAAU,OAAf,UACG2B,EAASC,KAAI,SAACH,GAAU,IACfd,EAAac,EAAbd,KAAMQ,EAAOM,EAAPN,GACd,OACE,cAAC,EAAD,CAEEA,GAAIA,EACJR,KAAMA,EACNW,WAAYA,EACZb,iBAAkBA,GAJbU,MAQX,wBAAQnB,UAAU,iBAAiBC,KAAK,SAASC,QAAS,WAAMC,OAAOC,SAASC,KAAO,KAAvF,0C,4CCVN,WAAyBwB,GAAzB,mBAAAC,EAAA,sEACoBC,MAAMzB,GAD1B,cACQ0B,EADR,gBAEyBA,EAAIC,OAF7B,gBAEUC,EAFV,EAEUA,KACRL,EAAQK,GAHV,4C,kEAMA,WAA4BA,GAA5B,SAAAJ,EAAA,sEACQC,MAAMzB,EAAc,CACxB6B,OAAQ,MACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAEL,WAN3B,4C,sBAUA,IAyBeM,EAzBE,WAAO,IAAD,EACG9B,mBAAS,IADZ,mBACdwB,EADc,KACRL,EADQ,KAEfpB,EAAmBgC,kBAAO,GAchC,OAZAC,qBAAU,WACHjC,EAAiBQ,S,2CAGtB0B,CAAaT,GACVU,MAAK,SAAAV,GAAI,OAAIzB,EAAiBQ,SAAU,OAC1C,CAACiB,IAEJQ,qBAAU,Y,oCACRG,CAAUhB,KACT,IAGD,sBAAK7B,UAAU,MAAf,UACE,cAAC,EAAD,CAAMQ,IAAKqB,EAASpB,iBAAkBA,IACtC,cAAC,EAAD,CAAMkB,SAAUO,EAAMZ,WAAYO,EAASpB,iBAAkBA,Q,uBC7B7DqC,EAAUC,cAEVC,E,4JACJ,WACE,OACE,cAAC,IAAD,CAAQF,QAASA,EAAjB,SACE,qBAAK9C,UAAU,UAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOiD,OAAK,EAACC,KAAK,IAAIC,UAAWpD,IACjC,cAAC,IAAD,CAAOkD,OAAK,EAACC,KAAK,YAAYC,UAAWX,e,GAPnCY,aAeHJ,YAEfK,IAASC,OACL,cAAC,EAAD,IACFC,SAASC,eAAe,W","file":"static/js/main.4bf91b86.chunk.js","sourcesContent":["import \"./index.css\"\r\n\r\nfunction HomePage() {\r\n    return (\r\n        <div className=\"home\">\r\n            <h3>React練習專案</h3>\r\n            <p>歡迎光臨我的頁面</p>\r\n            <button className=\"start\" type=\"button\" onClick={() =>{window.location.href = '/listpage'}}>點此開始</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomePage;\r\n","export const API_HOST = \"http://localhost:3000\"\r\nexport const API_GET_DATA = `${API_HOST}/posts/1`","import { useState } from \"react\";\r\nimport { v4 } from \"uuid\";\r\n\r\nconst Edit = ({ add, submittingStatus }) => {\r\n  const [note, setNote] = useState(\"\");\r\n  function noteChange(e) {\r\n    setNote(e.target.value);\r\n  }\r\n  function addItem() {\r\n    submittingStatus.current = true\r\n    add(function (prevData) {\r\n      return [       \r\n        {\r\n          id: v4(),\r\n          note\r\n        },\r\n        ...prevData,\r\n      ];\r\n    });\r\n  }\r\n\r\n  return (\r\n      <div>\r\n        <input type=\"text\" value={note} onChange={noteChange} />\r\n        <button onClick={addItem} className=\"add\">新增紀錄</button>\r\n        <div className=\"separation\"></div>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","const Item = ({ id, note, deleteData, submittingStatus }) => {\r\n\r\n  function deleteItem() {\r\n    submittingStatus.current = true\r\n    deleteData(function(prev) {\r\n      return prev.filter(item => item.id !== id)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"item\">\r\n      <div>\r\n        <p>{note}</p>\r\n      </div>\r\n      <button onClick={deleteItem} className=\"remove\">刪除</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Item;\r\n","import Item from \"./Item\";\r\n\r\nconst List = ({ listData, deleteData, submittingStatus }) => {\r\n  return (\r\n    <div className=\"list\">\r\n      {listData.map((item) => {\r\n        const { note, id } = item;\r\n        return (\r\n          <Item\r\n            key={id}\r\n            id={id}\r\n            note={note}\r\n            deleteData={deleteData}\r\n            submittingStatus={submittingStatus}\r\n          />\r\n        );\r\n      })}\r\n      <button className=\"backToHomepage\" type=\"button\" onClick={() =>{window.location.href = '/'}}>返回首頁</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default List;","import { useState, useEffect, useRef } from \"react\";\r\nimport { API_GET_DATA } from '../../global/constants'\r\n\r\nimport Edit from \"./components/Edit\";\r\nimport List from \"./components/List\";\r\nimport \"./index.css\";\r\n\r\nasync function fetchData(setData) {\r\n  const res = await fetch(API_GET_DATA)\r\n  const { data } = await res.json()\r\n  setData(data)\r\n}\r\n\r\nasync function fetchSetData(data) {\r\n  await fetch(API_GET_DATA, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      'Content-type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ data })\r\n  })\r\n}\r\n\r\nconst ListPage = () => {\r\n  const [data, setData] = useState([]);\r\n  const submittingStatus = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (!submittingStatus.current){\r\n      return\r\n    }\r\n    fetchSetData(data)\r\n      .then(data => submittingStatus.current = false)\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    fetchData(setData)\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Edit add={setData} submittingStatus={submittingStatus} />\r\n      <List listData={data} deleteData={setData} submittingStatus={submittingStatus} />\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default ListPage;","import React, { Component } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport HomePage from \"./pages/Home/index\";\r\nimport ListPage from \"./pages/Home/ListPage\";\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from \"react-router-dom\";\r\n\r\nimport { createBrowserHistory } from 'history'\r\nconst history = createBrowserHistory()\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Router history={history}>\r\n        <div className=\"wrapper\">\r\n          <Switch>\r\n            <Route exact path=\"/\" component={HomePage}></Route>\r\n            <Route exact path=\"/listpage\" component={ListPage}></Route>\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById(\"root\")\r\n);"],"sourceRoot":""}