(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{19:function(t,e,n){},34:function(t,e,n){},42:function(t,e,n){"use strict";n.r(e);var c=n(21),a=n(22),s=n(28),i=n(26),r=n(0),u=n(23),o=n.n(u),j=(n(34),n(19),n(1));var l=function(){return Object(j.jsxs)("div",{className:"home",children:[Object(j.jsx)("h3",{children:"React\u7df4\u7fd2\u5c08\u6848"}),Object(j.jsx)("p",{children:"\u6b61\u8fce\u5149\u81e8\u6211\u7684\u9801\u9762"}),Object(j.jsx)("button",{className:"start",type:"button",onClick:function(){window.location.href="/listpage"},children:"\u9ede\u6b64\u958b\u59cb"})]})},b=n(9),d=n.n(b),p=n(14),f=n(16),h="".concat("http://localhost:3000","/posts/1"),O=n(27),x=n(44),m=function(t){var e=t.add,n=t.submittingStatus,c=Object(r.useState)(""),a=Object(p.a)(c,2),s=a[0],i=a[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"text",value:s,onChange:function(t){i(t.target.value)}}),Object(j.jsx)("button",{onClick:function(){n.current=!0,e((function(t){return[{id:Object(x.a)(),note:s}].concat(Object(O.a)(t))}))},className:"add",children:"\u65b0\u589e\u7d00\u9304"}),Object(j.jsx)("div",{className:"separation"})]})},v=function(t){var e=t.id,n=t.note,c=t.deleteData,a=t.submittingStatus;return Object(j.jsxs)("div",{className:"item",children:[Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:n})}),Object(j.jsx)("button",{onClick:function(){a.current=!0,c((function(t){return t.filter((function(t){return t.id!==e}))}))},className:"remove",children:"\u522a\u9664"})]})},y=function(t){var e=t.listData,n=t.deleteData,c=t.submittingStatus;return Object(j.jsxs)("div",{className:"list",children:[e.map((function(t){var e=t.note,a=t.id;return Object(j.jsx)(v,{id:a,note:e,deleteData:n,submittingStatus:c},a)})),Object(j.jsx)("button",{className:"backToHomepage",type:"button",onClick:function(){window.location.href="/"},children:"\u8fd4\u56de\u9996\u9801"})]})};function g(){return(g=Object(f.a)(d.a.mark((function t(e){var n,c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(h);case 2:return n=t.sent,t.next=5,n.json();case 5:c=t.sent,a=c.data,e(a);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return(w=Object(f.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(h,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({data:e})});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var N=function(){var t=Object(r.useState)([]),e=Object(p.a)(t,2),n=e[0],c=e[1],a=Object(r.useRef)(!1);return Object(r.useEffect)((function(){a.current&&function(t){return w.apply(this,arguments)}(n).then((function(t){return a.current=!1}))}),[n]),Object(r.useEffect)((function(){!function(t){g.apply(this,arguments)}(c)}),[]),Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(m,{add:c,submittingStatus:a}),Object(j.jsx)(y,{listData:n,deleteData:c,submittingStatus:a})]})},k=n(29),S=n(3),C=n(24),D=Object(C.a)(),E=function(t){Object(s.a)(n,t);var e=Object(i.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(j.jsx)(k.a,{history:D,children:Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsxs)(S.c,{children:[Object(j.jsx)(S.a,{exact:!0,path:"/",component:l}),Object(j.jsx)(S.a,{exact:!0,path:"/listpage",component:N})]})})})}}]),n}(r.Component);e.default=E;o.a.render(Object(j.jsx)(E,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.4bf91b86.chunk.js.map